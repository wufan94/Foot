材料测试指标计算方法说明
====================================

1. 变异系数（CV）的计算
------------------------
变异系数用于评估测试的重复性和稳定性。

计算公式：
CV = (标准差 / 平均值) × 100%

具体步骤：
1) 对每个位移点，收集三次测试的力值
2) 计算每个位移点的平均值和标准差
3) 计算变异系数：CV = (标准差/平均值) × 100%
4) 对所有位移点的变异系数取平均值

稳定性评估标准：
- CV < 5%: Excellent（优秀）
- 5% ≤ CV < 10%: Good（良好）
- 10% ≤ CV < 15%: Fair（一般）
- CV ≥ 15%: Poor（差）

2. 曲线拟合方法
---------------
使用四次多项式函数进行拟合：
F = ax⁴ + bx³ + cx² + dx + e

其中：
- F: 力值（N）
- x: 位移值（mm）
- a, b, c, d, e: 拟合参数

拟合过程：
1) 对三次测试数据取平均值
2) 使用scipy.optimize.curve_fit进行非线性最小二乘拟合
3) 得到拟合参数a, b, c, d, e

3. 拟合优度评估
---------------
使用R²（决定系数）和RMSE（均方根误差）评估拟合质量。

R²计算公式：
R² = 1 - (SSres / SStot)

其中：
- SSres: 残差平方和 = Σ(yi - ŷi)²
- SStot: 总平方和 = Σ(yi - ȳ)²
- yi: 实际值
- ŷi: 拟合值
- ȳ: 实际值的平均值

RMSE计算公式：
RMSE = √(Σ(yi - ŷi)²/n)

其中：
- n: 数据点数量

拟合质量评估标准：
- R² > 0.95: Excellent（优秀）
- 0.90 ≤ R² ≤ 0.95: Good（良好）
- 0.80 ≤ R² < 0.90: Fair（一般）
- R² < 0.80: Poor（差）

4. 3B数据修正方法
-----------------
对于试样2-5的3B数据，采用以下修正方法：

1) 计算前两次测试的平均曲线
2) 对3B数据进行插值处理
3) 计算修正系数：
   correction_factor = 前两次测试平均值 / 3B数据值
4) 使用中位数作为最终修正系数
5) 应用修正：修正后的3B数据 = 原始3B数据 × 修正系数

5. 数据可视化
-------------
生成两种类型的图形：

1) 原始测试数据图：
   - 显示三次测试的原始数据
   - 使用不同颜色区分不同测试
   - 包含图例和网格

2) 拟合曲线图：
   - 显示拟合后的曲线
   - 包含拟合方程
   - 显示R²值和RMSE
   - 包含图例和网格

6. 报告生成
------------
生成的报告包含以下信息：
1) 每个试样的变异系数和稳定性评估
2) 拟合函数方程和参数
3) 拟合质量评估（R²值和RMSE）
4) 测试总结信息

所有计算均使用Python科学计算库：
- numpy: 数值计算
- scipy: 科学计算和优化
- pandas: 数据处理
- matplotlib: 数据可视化

文档生成时间：2024年3月 