# 虚拟足鞋适配系统

## 项目简介

虚拟足鞋适配系统是一个基于Python开发的工具，用于模拟和分析足部与鞋内腔之间的适配情况。该系统通过导入足部三维扫描模型、鞋内腔模型、PPT数据以及面料顶破实验数据，计算并可视化足鞋之间的干涉和压力分布，提供专业的足鞋适配分析。

## 系统架构

系统由以下主要模块组成：

### 1. 数据模型模块 (`models.py`)
- `FootModel`：足部模型类，处理足部三维扫描数据
- `ShoeLast`：鞋内腔模型类，处理鞋内腔模型数据
- `PPTData`：PPT数据类，处理全足疼痛敏感性数据

### 2. 配准模块 (`registration.py`)
- 实现模型之间的配准功能
- 处理特征点对齐
- 坐标变换和数据映射

### 3. 适配分析模块 (`fitting_process.py`)
- 计算足部与鞋内腔之间的干涉
- 分析压力分布
- 生成适配评估结果

### 4. 可视化模块 (`visualization.py`)
- 3D模型渲染
- 压力分布云图显示
- 交互式视图控制

### 5. 用户界面模块 (`gui.py`)
- 基于PyQt5的图形界面
- 左侧控制面板
- 右侧四分屏显示区域
- 实时日志显示

### 6. 主程序模块 (`main.py`)
- 系统初始化和协调
- 数据加载和处理
- 分析流程控制

## 功能特点

1. **数据导入**
   - 支持WRL格式的足部三维扫描模型
   - 支持带有顶点组信息的鞋内腔模型
   - 支持Excel格式的PPT数据
   - 支持面料顶破实验数据

2. **模型对齐**
   - 基于特征点的初始对齐
   - 精确的模型配准
   - 保持足部模型坐标系不变

3. **适配分析**
   - 鞋底区域形态分析
   - 足部模型变形计算
   - 干涉分析和压力计算
   - PPT数据映射和插值

4. **可视化显示**
   - 四视图显示（PPT分布、基础适配、材质优化、最终结果）
   - 交互式3D视图控制
   - 压力分布云图
   - 实时日志显示

## 环境要求

- Python 3.6+
- PyQt5
- VTK
- NumPy
- SciPy
- Pandas
- Trimesh

## 使用说明

1. **启动程序**
   ```bash
   python start.py
   ```

2. **数据准备**
   - 准备足部三维扫描模型（WRL格式）
   - 准备鞋内腔模型（OBJ格式）
   - 准备PPT数据（Excel格式）
   - 准备面料顶破实验数据

3. **操作步骤**
   - 在左侧面板选择输入文件
   - 设置材质参数和影响因子
   - 点击"运行分析"开始处理
   - 在右侧视图中查看分析结果

## 注意事项

1. 确保所有输入文件格式正确
2. 运行前检查系统环境配置
3. 大型模型处理可能需要较长时间
4. 建议定期保存分析结果

## 开发团队

- 开发单位：XXX
- 联系方式：XXX

## 版本历史

- v1.0.0 (2024-03-25)
  - 初始版本发布
  - 实现基本功能
  - 优化用户界面 